\doxysection{CPong.\+h}
\hypertarget{_c_pong_8h_source}{}\label{_c_pong_8h_source}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\doxymbox{\hyperlink{_c_base4618_8h}{CBase4618.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <opencv2/opencv.hpp>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00026\ \textcolor{keyword}{class\ }\doxymbox{\hyperlink{class_c_pong_a51d8a51ea17f9e873984606fd367f27c}{CPong}}\ :\ \textcolor{keyword}{public}\ \doxymbox{\hyperlink{class_c_base4618_abe2aad021452c08dd4a5726b44c5a0b7}{CBase4618}}}
\DoxyCodeLine{00027\ \{}
\DoxyCodeLine{00028\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00042\ \ \ \ \ \doxymbox{\hyperlink{class_c_pong_a51d8a51ea17f9e873984606fd367f27c}{CPong}}(cv::Size\ size,\ \textcolor{keywordtype}{int}\ comport);}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00049\ \ \ \ \ \doxymbox{\hyperlink{class_c_pong_aff4c3b1dc98694c7fafe100499e686a1}{\string~CPong}}();}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_c_pong_a5ca4fcf1948dea06a80cd99426e83a7b}{gpio}}();}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_c_pong_abdf0d44329b40d14863ba134b031435a}{update}}();}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_c_pong_ae5c14ff09d074474ffd4f220b21dc00f}{draw}}();}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_c_pong_adeb1c4d12f5245c1ffa5a3dc01252dd8}{reset\_game}}();}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_c_pong_ac3db0c0c2c66aba1e974aa60020cd46c}{reset\_ball}}();}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00101\ \ \ \ \ }
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_c_pong_ae9196bd7aaeb20f06fa06596e93b9325}{update\_timing}}();}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_c_pong_a21cc44bbba950c7c3af036db469a78fc}{check\_wall\_collision}}();}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_c_pong_a508fab8d06d6456e030536ffff6a64ee}{check\_paddle\_collision}}();}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_c_pong_aba426f2e2c80ec9d6d47b1ec4fd2c67a}{handle\_settings\_event}}();}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_c_pong_a8e2d34060959f6bf4ffb682ae6aa3b09}{update\_ball}}(\textcolor{keywordtype}{float}\ dt);}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_c_pong_ae34da114809cbc0bb5f63f050ee02623}{update\_right\_paddle}}();}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_c_pong_a32d47d3209d1ed3b664405b5b589c228}{clamp\_ball\_inside}}();}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_c_pong_a3471598041c5bd3b6a4e051741940de0}{draw\_game\_over}}();}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_c_pong_a05fdc92a22cdad5ebd509ede6c33ac6c}{draw\_game}}();}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_c_pong_aae52c7c8c923ac818efd6d671bf33145}{draw\_ui}}();}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{class_c_pong_a4f162817f3192ab29586a205955d88cb}{draw\_settings\_panel}}();}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{comment}{//\ Hardware\ and\ Game\ State}}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{keywordtype}{double}\ \doxymbox{\hyperlink{class_c_pong_a8cf4df5a9a8b4c04b6a7a641f330e684}{m\_joy\_y\_pct}};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keywordtype}{int}\ \doxymbox{\hyperlink{class_c_pong_aeee434c05f2abef8006982c7bf8c936c}{m\_paddle\_speed}};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordtype}{bool}\ \doxymbox{\hyperlink{class_c_pong_ab9f82a549ffe91e63576799942919d0b}{m\_settings\_open}};\ \ \ \ \ \ }
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{keywordtype}{bool}\ \doxymbox{\hyperlink{class_c_pong_a070252edf6820fde534daa217d4ebc62}{m\_settings\_event}};\ \ \ \ \ }
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keywordtype}{bool}\ \doxymbox{\hyperlink{class_c_pong_a8a08d155108bd6eec7da4732bc00a91b}{m\_game\_over}};\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{comment}{//\ Rendering}}
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \ \ \ \ cv::Size\ \doxymbox{\hyperlink{class_c_pong_ad4150c791aff6f461f0a5492f1ec9ad7}{m\_size}};\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00154\ \ \ \ \ cv::Mat\ \doxymbox{\hyperlink{class_c_pong_a69c0a86946814a8ae5c461adfa27fc3b}{m\_canvas}};\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00155\ \ \ \ \ std::string\ \doxymbox{\hyperlink{class_c_pong_a8118682f0808cbef9ea6ff7ce3cb7e52}{m\_window\_name}};\ }
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00158\ \ \ \ \ \textcolor{comment}{//\ Ball\ State}}
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \ \ \ \ cv::Point2f\ \doxymbox{\hyperlink{class_c_pong_a833ac39c4629061d9aefcc163013c197}{m\_ball\_pos}};\ \ \ \ }
\DoxyCodeLine{00162\ \ \ \ \ cv::Point2f\ \doxymbox{\hyperlink{class_c_pong_a8b46c57191d3f0fa5663d3a6a43ad376}{m\_ball\_vel}};\ \ \ \ }
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{keywordtype}{int}\ \doxymbox{\hyperlink{class_c_pong_acde7c3ea57f01859aa02094df652d4f0}{m\_ball\_radius}};\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00164\ \ \ \ \ \textcolor{keywordtype}{int}\ \doxymbox{\hyperlink{class_c_pong_a99417100ff8d5a1caf3100f67775c505}{m\_ball\_speed}};\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{comment}{//\ Paddle\ State}}
\DoxyCodeLine{00168\ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \ \ cv::Rect\ \doxymbox{\hyperlink{class_c_pong_ae1112bcfcdff77995a2157385137ac7c}{m\_left\_paddle}};\ \ \ \ }
\DoxyCodeLine{00171\ \ \ \ \ cv::Rect\ \doxymbox{\hyperlink{class_c_pong_afcf6263bb6c6c3121a22f98b104f83aa}{m\_right\_paddle}};\ \ \ }
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{comment}{//\ Score}}
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{keywordtype}{int}\ \doxymbox{\hyperlink{class_c_pong_a4d173e30d67f99f771057b0df19064ed}{m\_score\_left}};\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{keywordtype}{int}\ \doxymbox{\hyperlink{class_c_pong_a4efec21013b286610c7a56788f1b82e1}{m\_score\_right}};\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{comment}{//\ Timing}}
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{keywordtype}{double}\ \doxymbox{\hyperlink{class_c_pong_acae8ff8b78c3caac95be4df41cc78f81}{m\_last\_time}};\ \ \ }
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keywordtype}{double}\ \doxymbox{\hyperlink{class_c_pong_af9e91490c05a0f13cf5132ec571ef1ff}{m\_fps}};\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \ \ \ \ std::vector<double>\ \doxymbox{\hyperlink{class_c_pong_afd9d01d5ca50ad14f8dd77eb9fb3d936}{m\_fps\_history}};\ }
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keywordtype}{double}\ \doxymbox{\hyperlink{class_c_pong_a3670ea1d7580b5b18a1de030bebea434}{m\_fps\_sum}};\ }
\DoxyCodeLine{00189\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \doxymbox{\hyperlink{class_c_pong_a3eace62cbf82ae471155c1cec50c435c}{m\_max\_samples}};\ }
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keywordtype}{double}\ \doxymbox{\hyperlink{class_c_pong_a9bcac53ed79752713954a77c987db949}{m\_avg\_fps}};\ }
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keywordtype}{double}\ \doxymbox{\hyperlink{class_c_pong_afa4e8029b83bddd60d1166c2a7b03483}{target\_dt}};\ }
\DoxyCodeLine{00192\ \};}

\end{DoxyCode}
